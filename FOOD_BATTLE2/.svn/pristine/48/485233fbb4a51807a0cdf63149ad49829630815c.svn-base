

function attack(){

		var eName = document.getElementById("eName").textContent;
		var hName = document.getElementById("hName").textContent;
		var eHp = document.getElementById("eHpid").textContent;
		var hHp = document.getElementById("hHpid").textContent;
		var hAttack =  document.getElementById("hAttack").textContent;
		var eAttack = document.getElementById("eAttack").textContent;
		var DropItem = document.getElementById("DropItem").textContent;
		var hMp = document.getElementById("hMpid").textContent;

		var attackBt = document.getElementById("attackBt");
		var noteatBt = document.getElementById("noteatBt");
		var itemBt = document.getElementById("itemBt");
		var runBt = document.getElementById("runBt");

		var knumber = document.getElementById("knumber").textContent;
		var inumber = document.getElementById("inumber").textContent;
		var qnumber = document.getElementById("qnumber").textContent;



//			操作中ボタンを無効
			attackBt.disabled = true;
			noteatBt.disabled = true;
			itemBt.disabled = true;
			runBt.disabled = true;


			document.getElementById('comment').innerHTML = hName + 'の攻撃';
			setTimeout(() => {
				document.getElementById("e_img").style.visibility = "hidden";
					setTimeout(() => {
					document.getElementById("e_img").style.visibility = "visible";
						setTimeout(() => {
						document.getElementById("e_img").style.visibility = "hidden";
							setTimeout(() => {
							document.getElementById("e_img").style.visibility = "visible";
								setTimeout(() => {
								document.getElementById("e_img").style.visibility = "hidden";
									setTimeout(() => {
									document.getElementById("e_img").style.visibility = "visible";
									}, 100);
								}, 100);
							}, 100);
						}, 100);
					}, 100);
				}, 200);
			setTimeout(() => {
				document.getElementById('comment').innerHTML = eName + 'に' + hAttack + 'のダメージ';
//				HP計算および書き換え
				var eHpAfter = (Number(eHp) - Number(hAttack));
				document.getElementById('eHpid').innerHTML = eHpAfter;
//				enemyのHPが0の場合、マップボタン表示
				if(eHpAfter <= 0){
					document.getElementById('eHpid').innerHTML = 0;
					document.getElementById('comment').innerHTML = eName + 'を倒した！！' + DropItem + 'をゲット！！' +
					'<form action="/FOOD_BATTLE/DownEnemy" method="get"><button type="submit" name="name" value='+eName+','+hHp+','+hMp+','+DropItem+','+ knumber+','+inumber+','+qnumber+'>マップへ戻る</button></form>';
					document.getElementById("e_img").style.visibility = "hidden";
					return}
				setTimeout(() => {
					document.getElementById('comment').innerHTML = eName + 'の攻撃';
					setTimeout(() => {
					document.getElementById("y_img").style.visibility = "hidden";
						setTimeout(() => {
						document.getElementById("y_img").style.visibility = "visible";
							setTimeout(() => {
							document.getElementById("y_img").style.visibility = "hidden";
								setTimeout(() => {
								document.getElementById("y_img").style.visibility = "visible";
									setTimeout(() => {
									document.getElementById("y_img").style.visibility = "hidden";
										setTimeout(() => {
										document.getElementById("y_img").style.visibility = "visible";
										}, 100);
									}, 100);
								}, 100);
							}, 100);
						}, 100);
					}, 200);
					setTimeout(() => {
						document.getElementById('comment').innerHTML = hName + 'に' + eAttack + 'のダメージ';
//						HP計算および書き換え
						var hHpAfter = (Number(hHp) - Number(eAttack));
						document.getElementById('hHpid').innerHTML = hHpAfter;
//						heroのHPが0の場合、gameoverへ
						if(hHpAfter <= 0){
							document.getElementById('hHpid').innerHTML = 0;
							document.getElementById("y_img").style.visibility = "hidden";
							document.getElementById('comment').innerHTML = hName + 'は力尽きた' +
							'<form action="/FOOD_BATTLE/GameOver" method="get"><button type="submit">タイトルへ</button></form>';

							return}
						setTimeout(() => {
							document.getElementById('comment').innerHTML = 'どうする？';

//							操作後ボタンを有効
							attackBt.disabled = false;
							noteatBt.disabled = false;
							itemBt.disabled = false;
							runBt.disabled = false;

						}, 1000);
					}, 1000);
				}, 1000);
			}, 1000);


}


